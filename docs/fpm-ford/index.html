<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="easy project">
    <meta name="author" content="John Doe" >
    <link rel="icon" href="./favicon.png">

    <title> easy </title>

    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
    <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="./js/jquery-2.1.3.min.js"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./index.html">easy </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="./lists/files.html">Source Files</a></li>
            <li><a href="./lists/modules.html">Modules</a></li>
            <li><a href="./lists/procedures.html">Procedures</a></li>
                   <li><a href="./lists/programs.html">Programs</a></li>
       
            </ul>
        
            </li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/files.html">Source Files</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/modules.html">Modules</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/procedures.html">Procedures</a></li>
                             <li class="visible-xs hidden-sm visible-lg"><a href="./lists/programs.html">Programs</a></li>
          </ul>
        <form action="./search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <p>easy project</p>
	<p> Find us on&hellip;</p>
        <p>
          <a class="btn btn-lg btn-primary" href="https://github.com/urbanjost/easy" role="button">GitHub</a>
        </p>
      </div>

      <div class="row" id='text'>
        <div class="col-md-8">
          <h1>easy</h1>
          <p><a href="http://www.urbanjost.altervista.org/LIBRARY/libGPF/GPF.html">GPF Home Page</a></p>
<h1 id="kracken3f-the-fortran-command-line-argument-cracker">KRACKEN(3F): The Fortran Command Line Argument Cracker</h1>
<p><em>(Extended Version)</em></p>
<h2 id="supports-fpm">Supports FPM <img alt="fpm" src="docs/images/fpm_logo.gif"></h2>
<p>This is an fpm(1) package and not a stand-alone module. It requires fpm(1)
to build.</p>
<p>download the github repository and build it with 
   fpm ( as described at <a href="https://github.com/fortran-lang/fpm">Fortran Package Manager</a> )</p>
<p><code>bash
        git clone https://github.com/urbanjost/M_kracken.git
        cd M_kracken
        fpm build
        fpm test</code></p>
<p>or just list it as a dependency in your fpm.toml project file.</p>
<div class="codehilite"><pre><span></span><code><span class="w">        </span><span class="k">[dependencies]</span><span class="w"></span>
<span class="w">        </span><span class="n">M_kracken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://github.com/urbanjost/M_kracken.git&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<h2 id="index">Index</h2>
<ul>
<li><a href="#ABSTRACT">Abstract</a></li>
<li><a href="#EX1">Example of typical use</a></li>
<li><a href="#DESCRIPTION">Routine Descriptions</a></li>
<li><a href="#MENU">Using the interactive menu mode of prompting</a></li>
<li><a href="#USAGE">Usage notes</a></li>
<li><a href="#ARGS">Alternate parsing of the command line arguments</a></li>
</ul>
<h2 id="name"><span id="NAME">NAME</span></h2>
<p>M_kracken(3fm) - parse command line options of
Fortran programs using Unix-like syntax (LICENSE:PD)</p>
<h2 id="abstract"><span id="ABSTRACT">ABSTRACT</span></h2>
<p>KRACKEN(3f) is a Fortran command line argument parser designed to
provide for easy entry of lists of negative numbers, strings, and
exponential numbers without generally requiring quotes on the command
line. It provides:</p>
<ul>
<li>a standard Unix-like style for parsing arguments and keywords</li>
<li>a clear way to specify allowable keywords and default values</li>
<li>simple access to the parsed data from procedures</li>
<li>easy conversion from strings to numbers</li>
<li>easy conversion from strings to arrays</li>
<li>a simple menu-driven interactive mode for modifying parameters</li>
</ul>
<p>You can call your command like this:</p>
<div class="codehilite"><pre><span></span><code> mycode -r 333.333 -file /home/testin -l -i 300
</code></pre></div>

<p>with <em>very</em> little code:</p>
<h2 id="example-usage"><span id="EX1">Example Usage</span></h2>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">myprogram</span>

   <span class="nv">use</span> <span class="nv">M_kracken</span>
   <span class="nv">character</span><span class="ss">(</span><span class="mi">255</span><span class="ss">)</span> <span class="nv">filename</span>
   <span class="nv">logical</span> <span class="nv">lval</span>
   <span class="o">!</span>  <span class="nv">define</span> <span class="nv">command</span> <span class="nv">arguments</span>, <span class="nv">default</span> <span class="nv">values</span> <span class="nv">and</span> <span class="nv">crack</span> <span class="nv">command</span> <span class="nv">line</span>
   <span class="k">call</span> <span class="nl">kracken</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s">-i 10 -r 10e3 -d 4.1123344d0 -l .false. -file input</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="o">!</span>  <span class="nv">get</span> <span class="nv">values</span>
   <span class="k">call</span> <span class="nl">retrev</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_f</span><span class="s1">&#39;</span>,<span class="nv">filename</span>,<span class="nv">iflen</span>,<span class="nv">ier</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">get</span> <span class="o">-</span><span class="nv">f</span> <span class="nv">FILENAME</span>
   <span class="nv">lval</span> <span class="o">=</span> <span class="nv">lget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_l</span><span class="s1">&#39;</span><span class="ss">)</span>                    <span class="o">!</span> <span class="nv">get</span> <span class="o">-</span><span class="nv">l</span> <span class="nv">present</span>?
   <span class="nv">rval</span> <span class="o">=</span> <span class="nv">rget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_r</span><span class="s1">&#39;</span><span class="ss">)</span>                    <span class="o">!</span> <span class="nv">get</span> <span class="o">-</span><span class="nv">r</span> <span class="nv">RVAL</span>
   <span class="nv">dval</span> <span class="o">=</span> <span class="nv">dget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_d</span><span class="s1">&#39;</span><span class="ss">)</span>                    <span class="o">!</span> <span class="nv">get</span> <span class="o">-</span><span class="nv">d</span> <span class="nv">DBLEVAL</span>
   <span class="nv">ival</span> <span class="o">=</span> <span class="nv">iget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_i</span><span class="s1">&#39;</span><span class="ss">)</span>                    <span class="o">!</span> <span class="nv">get</span> <span class="o">-</span><span class="nv">i</span> <span class="nv">IVAL</span>
   <span class="o">!</span>  <span class="nv">all</span> <span class="nv">done</span> <span class="nv">parsing</span><span class="c1">; do something with the values</span>
   <span class="nv">print</span> <span class="o">*</span>, <span class="s2">&quot;</span><span class="s">filename=</span><span class="s2">&quot;</span>,<span class="nv">filename</span><span class="ss">(</span>:<span class="nv">iflen</span><span class="ss">)</span>
   <span class="nv">print</span> <span class="o">*</span>, <span class="s2">&quot;</span><span class="s"> i=</span><span class="s2">&quot;</span>,<span class="nv">ival</span>, <span class="s2">&quot;</span><span class="s"> r=</span><span class="s2">&quot;</span>,<span class="nv">rval</span>, <span class="s2">&quot;</span><span class="s"> l=</span><span class="s2">&quot;</span>,<span class="nv">lval</span>, <span class="s2">&quot;</span><span class="s">d=</span><span class="s2">&quot;</span>,<span class="nv">dval</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">myprogram</span>
</code></pre></div>

<p>See the documentation for the procedures for detailed descriptions. Each
procedure description includes a working example program.</p>
<h2 id="the-routines"><span id="DESCRIPTION">The Routines</span></h2>
<p><a href="docs/kracken.3m_kracken.html">kracken</a> define command options and defaults and parse
command line</p>
<p><a href="docs/retrev.3m_kracken.html">retrev</a> get value for a keyword as a string</p>
<p>The returned strings obtained by calls to RETREV(3f) can be converted to
numeric values using procedures from the M_strings(3fm) module such as
STRING_TO_VALUE(3F), which converts strings to a numeric value, and
SPLIT(3F), which can break a string into a list of words. But more
commonly, the following convenience routines are used &hellip;</p>
<p>There are scalar convenience functions for getting simple values that
are used in most cases as an alternative to RETREV(3f) that convert the
values directly to common scalar types:</p>
<div class="codehilite"><pre><span></span><code>      lval=lget(VERB_ARGNAME) !gets a &quot;logical&quot; value.
      rval=rget(VERB_ARGNAME) !gets a &quot;real&quot; value.
      dval=dget(VERB_ARGNAME) !gets a &quot;doubleprecision&quot; value.
      ival=iget(VERB_ARGNAME) !gets a &quot;integer&quot; value
      sval=sget(VERB_ARGNAME) !gets a &quot;character&quot; value
</code></pre></div>

<p>There are also convenience routines for returning arrays of scalar
values that typically use allocatable arrays. Just add &lsquo;s&rsquo; to the end of
the scalar convenience functions.</p>
<div class="codehilite"><pre><span></span><code>      lvals=lgets(VERB_ARGNAME) !gets a &quot;logical&quot; array.
      rvals=rgets(VERB_ARGNAME) !gets a &quot;real&quot; array.
      dvals=dgets(VERB_ARGNAME) !gets a &quot;doubleprecision&quot; array.
      ivals=igets(VERB_ARGNAME) !gets a &quot;integer&quot; array
      svals=sgets(VERB_ARGNAME) !gets a &quot;character&quot; array
</code></pre></div>

<h3 id="special-purpose-public-routines">SPECIAL-PURPOSE PUBLIC ROUTINES:</h3>
<h4 id="setting-command-prompts">Setting command prompts</h4>
<div class="codehilite"><pre><span></span><code>   <span class="nv">public</span> :: <span class="nv">setprompts</span>             <span class="o">!</span> <span class="nv">define</span> <span class="nv">prompts</span> <span class="k">for</span> <span class="nv">commands</span> <span class="nv">in</span> <span class="nv">interactive</span> <span class="nv">mode</span>
</code></pre></div>

<h4 id="only-needed-for-parsing-input-files-not-cracking-command-line-arguments">Only needed for parsing input files, not cracking command line arguments</h4>
<div class="codehilite"><pre><span></span><code>   <span class="nv">dissect</span>  <span class="o">!</span> <span class="k">for</span> <span class="nv">user</span><span class="o">-</span><span class="nv">defined</span> <span class="nv">commands</span>: <span class="nv">define</span> <span class="nv">defaults</span>, <span class="k">then</span> <span class="nv">process</span> <span class="nv">user</span> <span class="nv">input</span>
   <span class="nv">parse</span>    <span class="o">!</span> <span class="nv">parse</span> <span class="nv">user</span> <span class="nv">command</span> <span class="nv">and</span> <span class="nv">store</span> <span class="nv">tokens</span> <span class="nv">into</span> <span class="nv">Language</span> <span class="nv">Dictionary</span>
   <span class="nv">store</span>    <span class="o">!</span> <span class="nv">replace</span> <span class="nv">dictionary</span> <span class="nv">name</span><span class="s1">&#39;</span><span class="s">s value (if allow=add add name if necessary)</span>
   <span class="k">show</span>     <span class="o">!</span> <span class="nv">display</span> <span class="nv">dictionary</span> <span class="nv">contents</span> <span class="k">for</span> <span class="nv">information</span>
</code></pre></div>

<h4 id="length-of-verbs-and-entries-in-language-dictionary">length of verbs and entries in Language dictionary</h4>
<p>NOTE: many parameters may be reduced in size so as to just accommodate
being used as a command line parser. In particular, some might want to
change:</p>
<div class="codehilite"><pre><span></span><code>   <span class="nv">logical</span>,<span class="nv">public</span>            :: <span class="nv">stop_command</span><span class="o">=</span>.<span class="nv">false</span>. <span class="o">!</span> <span class="nv">indication</span> <span class="nv">to</span> <span class="k">return</span> <span class="nv">stop_command</span> <span class="nv">as</span> <span class="nv">false</span> <span class="nv">in</span> <span class="nv">interactive</span> <span class="nv">mode</span>
   <span class="nv">integer</span>, <span class="nv">parameter</span>,<span class="nv">public</span> :: <span class="nv">IPvalue</span><span class="o">=</span><span class="mi">4096</span><span class="o">*</span><span class="mi">16</span>      <span class="o">!</span> <span class="nv">length</span> <span class="nv">of</span> <span class="nv">keyword</span> <span class="nv">value</span>
   <span class="nv">integer</span>, <span class="nv">parameter</span>,<span class="nv">public</span> :: <span class="nv">IPverb</span><span class="o">=</span><span class="mi">20</span>            <span class="o">!</span> <span class="nv">length</span> <span class="nv">of</span> <span class="nv">verb</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>,<span class="nv">save</span>,<span class="nv">public</span>         :: <span class="nv">kracken_comment</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">#</span><span class="s1">&#39;</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span>,<span class="nv">public</span>  :: <span class="nv">leftover</span>                 <span class="o">!</span> <span class="nv">remaining</span> <span class="nv">command</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span> <span class="nv">on</span> <span class="nv">line</span>
   <span class="nv">integer</span>,<span class="nv">public</span>,<span class="nv">save</span>                  :: <span class="nv">current_command_length</span><span class="o">=</span><span class="mi">0</span> <span class="o">!</span> <span class="nv">length</span> <span class="nv">of</span> <span class="nv">options</span> <span class="k">for</span> <span class="nv">current</span> <span class="nv">command</span>
</code></pre></div>

<h2 id="interactive-menu-mode"><span id="MENU">Interactive menu mode</span></h2>
<p>The menu mode feature is in a state of flux and may change significantly
&hellip;</p>
<p>All commands automatically have the parameter &ldquo;-?&rdquo;. If it is present, a
menu appears after any specified options have been applied that allows
for changing parameters interactively.</p>
<p>The default prompts are the keywords themselves and their current
values. To set your own prompts call SETPROMPTS(3f):</p>
<div class="codehilite"><pre><span></span><code>   call setprompts(verb_name,options_and_prompts)
</code></pre></div>

<p>where the special prompt string &ldquo;#N#&rdquo; means to not allow prompting for
this parameter. For example:</p>
<div class="codehilite"><pre><span></span><code>     <span class="o">!</span> <span class="nv">set</span> <span class="nv">prompts</span> <span class="k">for</span> <span class="nv">interactive</span> <span class="nv">mode</span> ...
     <span class="k">call</span> <span class="nl">setprompts</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">copy</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s">                           &amp;</span>
     <span class="o">&amp;</span> <span class="o">-</span><span class="nv">oo</span> <span class="s2">&quot;</span><span class="s">#N#</span><span class="s2">&quot;</span>                                        <span class="o">&amp;</span>
     <span class="o">&amp;</span> <span class="o">-</span><span class="nv">i</span> <span class="nv">Enter</span> <span class="nv">input</span> <span class="nv">file</span> <span class="nv">name</span>                         <span class="o">&amp;</span>
     <span class="o">&amp;</span> <span class="o">-</span><span class="nv">o</span> <span class="nv">Enter</span> <span class="nv">output</span> <span class="nv">file</span> <span class="nv">name</span>                        <span class="o">&amp;</span>
     <span class="o">&amp;</span> <span class="o">-</span><span class="nv">version</span> <span class="s2">&quot;</span><span class="s">#N#</span><span class="s2">&quot;</span>                                   <span class="o">&amp;</span>
     <span class="o">&amp;</span> <span class="o">-</span><span class="nv">help</span> <span class="s2">&quot;</span><span class="s">#N#</span><span class="s2">&quot;</span>                                      <span class="o">&amp;</span>
     <span class="o">&amp;</span> <span class="s1">&#39;</span><span class="s">)</span>
     <span class="k">call</span> <span class="nl">kracken</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">copy</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s">-i -o -version .false. -help .false</span><span class="s1">&#39;</span><span class="ss">)</span>
</code></pre></div>

<p>Then the command</p>
<div class="codehilite"><pre><span></span><code>      copy -?
</code></pre></div>

<p>would only prompt for the -i and -o parameters.</p>
<p>A description on how to use the menu mode can be generated by entering a
question mark (&ldquo;?&rdquo;) at the prompt once menu mode has been invoked.</p>
<h2 id="usage-notes"><span id="USAGE">Usage Notes</span></h2>
<h3 id="the-reserved-oo-keyword">the reserved -oo keyword</h3>
<p>Everything before any switch is always referred to as &lsquo;VERB_oo&rsquo; in
RETREV(3f). This same value can also be set later in the command line by
using the reserved keyword -oo (or the alias &ndash;). Often, you can ignore
it exists, but the -oo option is always there. Unlike other parameters a
default value is ignored unless no parameters are specified on the
command line. That is, in general do not set a default value for the -oo
parameter. It should almost always be initially a blank string.</p>
<p>Note that you can just put the calls to RETREV() or the convenience
routines where you need the information in your program instead of
parsing everything in a single routine. But parsing them and storing
them into a COMMON or MODULE is more efficient if the routine doing the
parsing is called many times.</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">Sample</span> <span class="nv">showing</span> <span class="o">-</span><span class="nv">oo</span> <span class="nv">parameter</span> <span class="nv">and</span> <span class="nv">retrieving</span> <span class="nv">data</span> <span class="nv">in</span> <span class="nv">subroutines</span>

     <span class="nv">program</span> <span class="nv">demo_M_kracken</span>
     <span class="nv">use</span> <span class="nv">M_kracken</span>, <span class="nv">only</span> : <span class="nv">kracken</span>
     <span class="o">!</span> <span class="nv">define</span> <span class="nv">and</span> <span class="nv">crack</span> <span class="nv">command</span> <span class="nv">line</span> <span class="nv">arguments</span>
     <span class="k">call</span> <span class="nl">kracken</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s"> DEFAULT STRING -x 123 -y 456 </span><span class="s1">&#39;</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">showstring</span><span class="ss">()</span>
     <span class="k">call</span> <span class="nl">showvalue</span><span class="ss">()</span>
     <span class="nv">contains</span>

     <span class="nv">subroutine</span> <span class="nv">showstring</span><span class="ss">()</span>
     <span class="nv">use</span> <span class="nv">M_kracken</span>, <span class="nv">only</span> : <span class="nv">sget</span>
     <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span> :: <span class="nv">string</span>
     <span class="o">!</span> <span class="nv">get</span> <span class="nv">value</span> <span class="nv">of</span> <span class="nv">string</span> <span class="nv">before</span> <span class="nv">any</span> <span class="nv">switch</span>
     <span class="nv">string</span><span class="o">=</span><span class="nv">trim</span><span class="ss">(</span><span class="nv">sget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_oo</span><span class="s1">&#39;</span><span class="ss">))</span>
     <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">string is </span><span class="s1">&#39;</span>,<span class="nv">string</span>
     <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">showstring</span>

     <span class="nv">subroutine</span> <span class="nv">showvalue</span><span class="ss">()</span>
     <span class="nv">use</span> <span class="nv">M_kracken</span>, <span class="nv">only</span> : <span class="nv">rget</span>
     <span class="o">!</span> <span class="k">show</span> <span class="nv">values</span> <span class="k">for</span> <span class="o">-</span><span class="nv">x</span> <span class="nv">and</span> <span class="o">-</span><span class="nv">y</span> <span class="nv">parameters</span>
     <span class="nv">x</span><span class="o">=</span><span class="nv">rget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_x</span><span class="s1">&#39;</span><span class="ss">)</span>
     <span class="nv">y</span><span class="o">=</span><span class="nv">rget</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">cmd_y</span><span class="s1">&#39;</span><span class="ss">)</span>
     <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> X and Y are </span><span class="s1">&#39;</span>,<span class="nv">x</span>,<span class="nv">y</span>
     <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">showvalue</span>

     <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_M_kracken</span>

      <span class="nv">xxx</span>
       <span class="nv">string</span> <span class="nv">is</span> <span class="nv">DEFAULT</span> <span class="nv">STRING</span>
        <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">are</span>    <span class="mi">123</span>.<span class="mi">000000</span>       <span class="mi">456</span>.<span class="mi">000000</span>

      <span class="nv">xxx</span> <span class="o">-</span><span class="nv">x</span> <span class="mi">987</span>.<span class="mi">653992</span>
       <span class="nv">string</span> <span class="nv">is</span>
        <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">are</span>    <span class="mi">987</span>.<span class="mi">653992</span>       <span class="mi">456</span>.<span class="mi">000000</span>

      <span class="nv">xxx</span> <span class="o">-</span><span class="nv">oo</span> <span class="nv">BBBB</span> <span class="o">-</span><span class="nv">oo</span> <span class="nv">CCCC</span>
       <span class="nv">string</span> <span class="nv">is</span> <span class="nv">BBBB</span> <span class="nv">CCCC</span>
        <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">are</span>    <span class="mi">123</span>.<span class="mi">000000</span>       <span class="mi">456</span>.<span class="mi">000000</span>

      <span class="nv">xxx</span> <span class="nv">AAAA</span> <span class="nv">BBBB</span> <span class="o">-</span><span class="nv">oo</span> <span class="nv">CCCC</span>
       <span class="nv">string</span> <span class="nv">is</span> <span class="nv">AAAA</span> <span class="nv">BBBB</span> <span class="nv">CCCC</span>
        <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">are</span>    <span class="mi">123</span>.<span class="mi">000000</span>       <span class="mi">456</span>.<span class="mi">000000</span>
</code></pre></div>

<p>You may note that the parsing rules are not identical to Unix, although
very similar.</p>
<div class="codehilite"><pre><span></span><code><span class="n">SYNTAX</span><span class="o">:</span><span class="w"></span>
<span class="n">verb</span><span class="o">[-</span><span class="n">oo</span><span class="o">|--]</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">kw_oo</span><span class="w">  </span><span class="o">[-</span><span class="n">kw1</span><span class="w"> </span><span class="n">value_for_kw1</span><span class="o">]</span><span class="w"> </span><span class="o">[-</span><span class="n">kw2</span><span class="w"> </span><span class="n">value_for_kw2</span><span class="o">]</span><span class="w"> </span><span class="o">[-</span><span class="n">kw3</span><span class="w"> </span><span class="n">value_for_kw3</span><span class="o">]</span><span class="w"> </span><span class="o">...</span><span class="w"></span>
<span class="n">where</span><span class="w"></span>
<span class="w">  </span><span class="s2">&quot;kw&quot;</span><span class="w"> </span><span class="n">stands</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="n">name</span><span class="w"></span>
</code></pre></div>

<ul>
<li>
<p>Quotes are rarely needed. A keyword is assumed whenever &rdquo;
    -<script type="math/tex; mode=display">A-Za-Z</script>&rdquo; (space followed by dash followed by letter) is
    encountered. So</p>
<p>``` 
        cmd -title This is my title -value 10.3e2</p>
<p>```</p>
<p>would produce a value of &ldquo;This is my title&rdquo; for dictionary value
&ldquo;cmd_title&rdquo;. This does mean if your value contains &rdquo; -letter&rdquo; you
must quote your command such that the program sees the string
surrounded with double-quotes. Depending on the shell you are using
this can be awkward. For example, in the bash shell you might use</p>
<p>``` 
        cmd -title &lsquo;&ldquo;-A is a bad title to need&rdquo;&rsquo;
        cmd -title /&rdquo;-A is a bad title to need/&rdquo;</p>
<p>```</p>
</li>
<li>
<p>The keyword -oo is implied after the verb.</p>
</li>
<li>
<p>There is no way to terminate a keyword value except by starting a
    new keyword. This means when you use shell globbing you often want
    filenames to be the <em>first</em> parameter (and dictionary &ldquo;cmd_oo&rdquo; will
    hold the filenames):</p>
<p>``` 
        cmd * -value 10.3e2</p>
<p>```</p>
<p>Many (but not all) Unix commands have such values allowed wherever
another value is not allowed (Surprised? &ldquo;ls -r * -l&rdquo; works as well
as &ldquo;ls -r -l *&rdquo; .). This is why quoting and specification of which
keywords require values and which do not is usually required on Unix
commands. Alternatively, just ignore the -oo field and always
require keywords for all values.</p>
</li>
<li>
<p>You cannot combine keywords (-ir is not equivalent to -i -r, which
    is sometimes allowed on Unix commands).</p>
</li>
<li>
<p>Although this is rarely needed in practice, You may find the way to
    include a literal double-quote character (&ldquo;) as part of an input
    value is the most unlike Unix &ndash; Double the double-quote. Again,
    shells often expand double-quotes, so in the bash(1) shell you might
    have to enter</p>
<p>``` 
         cmd  -string ""</p>
<p>```</p>
<p>to give the &ldquo;cmd_string&rdquo; dictionary value the simple value &lsquo;&ldquo;&rsquo;.</p>
</li>
<li>
<p>--KEYWORD is equivalent to -KEYWORD; primarily so that the
    &ndash;version and &ndash;help options are easily supported.</p>
</li>
<li>
<p>If a keyword is specified multiple times the values are concatenated
    into a single value with a space delimiter between the values. That
    is,</p>
<p>``` 
      cmd -D 10 -D 20 -D 30</p>
<p>```</p>
<p>would set the dictionary variable &ldquo;cmd_D&rdquo; to &lsquo;10 20 30&rsquo;.</p>
</li>
<li>
<p>All commands automatically have the -? keyword, which evokes
    interactive menu mode.</p>
</li>
</ul>
<h2 id="alternate-command-line-input-syntax"><span id="ARGS">Alternate command line input syntax</span></h2>
<p>If you actually prefer quoting your arguments and having your unnamed
variables at the end of your command and support for the &ldquo;&ndash;&rdquo; option
supported by some GNU and Unix commands you can set the command line
parsing option &ldquo;style=&rsquo;args&rsquo;&ldquo;. This will <em>not</em> change how you specify
the parameters to the kracken(3f) command except possibly for Boolean
switches, but allows for entering commands in a manner more like the C
routine getopts(3c). If you turn the mode on the &ldquo;-oo&rdquo; parameter is
ignored unless you specifically assign it a value by name; the values
need quoted if they contain spaces and the option &ldquo;&ndash;&rdquo; specifies that
the rest of the command line is composed of unnamed strings. The unnamed
values will go into the CHARACTER array &ldquo;unnamed&rdquo;. The way the command
line input is parsed is the same as in the M_args(3f) module. That
means instead of entering:</p>
<p>program show_standard use M_kracken, only : kracken, sgets, rget,
sget, lget implicit none character(len=:),allocatable :: files(:)
character(len=:),allocatable :: title real :: x,y integer :: i ! define
and crack command line arguments call kracken(&lsquo;cmd&rsquo;,&rsquo; &ndash;title this is my
title -x 123 -y 456 &ndash;help .false.&rsquo;) title=sget(&lsquo;cmd_title&rsquo;)
x=rget(&lsquo;cmd_x&rsquo;) y=rget(&lsquo;cmd_y&rsquo;) write(*,*)&rsquo;help=&rsquo;,lget(&lsquo;cmd_help&rsquo;)
write(*,*)&rsquo; title is &lsquo;,title write(*,*)&rsquo; x and y are &lsquo;,x,y ! get
value of string before any switch files=sgets(&lsquo;cmd_oo&rsquo;)
if(size(files).gt.0)then do i=1,size(files) write(*,*)i,files(i) enddo
endif end program show_standard</p>
<p>Add &ldquo;style=&rsquo;args&rsquo;&rdquo; to the kracken call and &ldquo;unnamed&rdquo; from the
M_kracken(3fm) module, and the unnamed values will be in the string
array &ldquo;unnamed&rdquo; instead of obtained from something like
&ldquo;sgets(&lsquo;cmd_oo&rsquo;).</p>
<p>With &ldquo;style=&rsquo;args&rsquo; other differences are in how you specify your command
prototype. You MUST use the string &ldquo;.false.&rdquo; for any boolean switch
variable default value; and basically the values &ldquo;.true.&rdquo; and &ldquo;.false.&rdquo;
are reserved, regardless of case. This is normally how you specify
booleans anyway; but in the default style you can set your default to
&ldquo;.true.&rdquo; or use other values for &ldquo;.false.&rdquo; like &ldquo;F&rdquo; or &ldquo;.F.&rdquo;.</p>
<p>The way the arguments will then be read upon input are the same as
described in the M_args(3fm) module.</p>
<p>program show_alternate use M_kracken, only : kracken, sget, rget, lget
USE M_KRACKEN, ONLY : UNNAMED implicit none
character(len=:),allocatable :: title real :: x,y integer :: i ! define
and crack command line arguments ! ! call kracken(&lsquo;cmd&rsquo;,&rsquo; &ndash;title this
is my title &amp; &amp; -x 123 -y 456 &ndash;help .false.&rsquo;,style=&rsquo;args&rsquo;)
title=sget(&lsquo;cmd_title&rsquo;) x=rget(&lsquo;cmd_x&rsquo;) y=rget(&lsquo;cmd_y&rsquo;)
write(*,*)&rsquo;help=&rsquo;,lget(&lsquo;cmd_help&rsquo;) write(*,*)&rsquo; title is &lsquo;,title
write(*,*)&rsquo; x and y are &lsquo;,x,y IF(SIZE(UNNAMED).GT.0)THEN DO
I=1,SIZE(UNNAMED) WRITE(*,*)I,UNNAMED(I) ENDDO ENDIF end program
show_alternate</p>
<div class="codehilite"><pre><span></span><code><span class="w"> </span><span class="n">Sample</span><span class="w"> </span><span class="k">usage</span><span class="err">:</span><span class="w"></span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">M_kracken</span><span class="w"> </span><span class="n">parsing</span><span class="w"></span>

<span class="w">       </span><span class="n">cmd</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="n">f90</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">--</span><span class="n">title</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="mi">200</span><span class="w"></span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="ow">or</span><span class="w"></span>

<span class="w">       </span><span class="n">cmd</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">--</span><span class="n">title</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="o">-</span><span class="n">oo</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="n">f90</span><span class="w"></span>

<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="k">second</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">alternate</span><span class="w"> </span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">parsing</span><span class="p">.</span><span class="w"></span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">unnamed</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="k">array</span><span class="w"></span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">UNNAMED</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">anywhere</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">command</span><span class="p">.</span><span class="w"></span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">word</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="n">require</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">quoted</span><span class="p">.</span><span class="w"></span>

<span class="w">    </span><span class="n">cmd</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="c1">--title &#39;A new title&#39; *.f90</span>
</code></pre></div>

<blockquote>
<p>Contributors:  </p>
<ul>
<li>John S. Urban &ndash; Author (last change: Oct. 2019)</li>
<li>Felix Becker &ndash; Enhancements to reduce limitations on parameter
    lengths (2013-05-28)</li>
<li>Walid Keyrouz &ndash; Upgrades to bring code into conformance with
    recommended practices (2013-12-06)</li>
</ul>
</blockquote>
<hr>
        </div>
        <div class="col-md-4">
	  <div class="well">
          <h2>Developer Info</h2>
          <h4>John Doe</h4>
          
            <div class="text-center"><div class="btn-group" role="group">
              <a class="btn btn-lg btn-primary" href="https://github.com/urbanjost/easy"><i class="fa fa-github fa-lg"></i></a>
            </div></div>
       </div>
       </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-4">
              <h3>Source Files</h3>
              <ul>                    <li><a href='./sourcefile/demo_dget.f90.html'>demo_dget.f90</a></li>
                    <li><a href='./sourcefile/demo_dgets.f90.html'>demo_dgets.f90</a></li>
                    <li><a href='./sourcefile/demo_dissect.f90.html'>demo_dissect.f90</a></li>
                    <li><a href='./sourcefile/demo_iget.f90.html'>demo_iget.f90</a></li>
                    <li><a href='./sourcefile/demo_igets.f90.html'>demo_igets.f90</a></li>
                    <li><a href='./sourcefile/demo_kracken.f90.html'>demo_kracken.f90</a></li>
                    <li><a href='./sourcefile/demo_lget.f90.html'>demo_lget.f90</a></li>
                    <li><a href='./sourcefile/demo_lgets.f90.html'>demo_lgets.f90</a></li>
                    <li><a href='./sourcefile/demo_m_kracken.f90.html'>demo_M_kracken.f90</a></li>
                    <li><a href='./sourcefile/demo_parse.f90.html'>demo_parse.f90</a></li>
</ul>
          </div>
		  <div class="col-xs-6 col-sm-4">
              <h3>Modules</h3>
              <ul>                    <li><a href='./module/m_kracken.html'>M_kracken</a></li>
</ul>
          </div>
		  <div class="col-xs-6 col-sm-4">
              <h3>Procedures</h3>
              <ul>                    <li><a href='./proc/cmd_args_to_dictionary.html'>cmd_args_to_dictionary</a></li>
                    <li><a href='./proc/dget.html'>dget</a></li>
                    <li><a href='./proc/dgets.html'>dgets</a></li>
                    <li><a href='./proc/dissect.html'>dissect</a></li>
                    <li><a href='./proc/iget.html'>iget</a></li>
                    <li><a href='./proc/igets.html'>igets</a></li>
                    <li><a href='./proc/kracken.html'>kracken</a></li>
                    <li><a href='./proc/lget.html'>lget</a></li>
                    <li><a href='./proc/lgets.html'>lgets</a></li>
                    <li><a href='./proc/mymain.html'>mymain</a></li>
</ul>
          </div>
      </div>
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p>easy was developed by John Doe<br>&copy; 2023 
</p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2023-02-12 08:28            </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="./js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="./tipuesearch/tipuesearch_content.js"></script>
    <script src="./tipuesearch/tipuesearch_set.js"></script>
    <script src="./tipuesearch/tipuesearch.js"></script>
    
  </body>
</html>